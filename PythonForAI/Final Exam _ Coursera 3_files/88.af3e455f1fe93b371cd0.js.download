(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{"04NU":function(module,exports,e){var t=e("qBcy"),i;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},n=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},"1G4o":function(module,e,t){"use strict";var i=t("q1tI"),r=t.n(i),n=t("eJMc"),a=t.n(n),s=t("BVC1"),o=t("yhVA"),c=t.n(o),u=function AssignmentSubmitBeforeReviewWarning(e){var t=e.computedItem,i={padding:16,margin:"12px 0px"};return r.a.createElement("div",{className:"rc-AssignmentSubmitBeforeReviewWarning"},r.a.createElement("div",{className:"bgcolor-warn-light color-warn-dark",style:i},c()("Submit your project before reviewing classmates.")),r.a.createElement("div",{className:"vertical-box align-items-vertical-center"},r.a.createElement(a.a,{to:s.a.join(t.resourcePath,"submit"),className:"link-button primary"},c()("Go to my project"))))};e.a=u},"46g2":function(module,e,t){"use strict";var i=t("VbXa"),r=t.n(i),n=t("q1tI"),a=t.n(n),s=t("eJMc"),o=t.n(s),c=t("7eZ8"),u=t("kWps"),d=t("kvW3"),m=t("NXYo"),l=t("Zz7k"),b=t("hbUA"),v=t("yhVA"),p=t.n(v),f=function(e){function GiveFeedbackNoList(){return e.apply(this,arguments)||this}r()(GiveFeedbackNoList,e);var t=GiveFeedbackNoList.prototype;return t.renderMentorGradedMessage=function renderMentorGradedMessage(){return a.a.createElement("div",{className:"rc-GiveFeedbackNoList"},a.a.createElement("div",{className:"c-peer-card"},a.a.createElement("p",null,p()("All grading for this assignment will be done by course mentors."))),a.a.createElement(m.a,{requestedCapability:l.e.viewSubmissionList},this.props.isSubmissionAvailableForReview?this.renderWithAvailableSubmissions():this.renderWithoutAvailableSubmissions()))},t.renderWithAvailableSubmissions=function renderWithAvailableSubmissions(){var e=this.props,t=e.computedItem,i=t.courseId,r=t.requiredReviewCount,n=e.reviewNextLink;return Object(c.a)(i)?a.a.createElement("div",{className:"rc-GiveFeedbackNoList c-peer-card"},a.a.createElement("div",{className:"body-2-text"},p()("Review fellow learners")),a.a.createElement("p",null,p()("Award points and give constructive feedback using the grading criteria provided (if any). Follow these tips to make the most of your learning experience:")),a.a.createElement("ul",null,a.a.createElement("li",null,p()("Offer specific ideas or suggestions that the learner can apply right away. Be encouraging and supportive.")),a.a.createElement("li",null,p()("Use a translation tool if you have a preferred language that’s different from the learner you’re reviewing. Language usage is never a grading criteria.")),a.a.createElement("li",null,p()("Review #{requiredReviewCount} or more assignment submissions to receive a grade. Help more learners complete this course by giving more reviews.",{requiredReviewCount:r}))),a.a.createElement(o.a,{className:"link-button primary","data-js":"open-course-link",to:n},p()("Start Reviewing"))):a.a.createElement("div",{className:"rc-GiveFeedbackNoList c-peer-card"},a.a.createElement("div",{className:"body-2-text"},p()("Ready to review your classmates?")),a.a.createElement("p",null,p()("\n            Reviewing another person's work is a valuable way to learn and providing quality feedback is a useful skill\n            to master. Here are some tips to help you provide the most helpful, accurate, and consistent feedback\n            possible:\n          ")),a.a.createElement("ul",null,a.a.createElement("li",null,p()("\n              Remember, English isn't everyone's native language. Focus primarily on how well the work meets the\n              grading criteria.\n            ")),a.a.createElement("li",null,p()("\n              When writing critical feedback, use a constructive and polite tone.\n            "))),a.a.createElement("p",null,a.a.createElement(d.b,{message:p()("\n              Everyone enrolled in the course must review at least\n              {requiredReviewCount, plural, one{# other submission} other{# other submissions}} to ensure everyone\n              receives a grade; however, many learners complete more to help their classmates who are still waiting.\n              Ready to get started?\n            "),requiredReviewCount:r})),a.a.createElement(o.a,{className:"link-button primary","data-js":"open-course-link",to:n},p()("Start Reviewing")))},t.renderWithoutAvailableSubmissions=function renderWithoutAvailableSubmissions(){var e=this.props,t=e.displayablePhaseSchedule,i=e.computedItem,r=t&&"submit"===t.currentPhase&&t.phaseStarts.review,n=r&&u.a.getFormattedDeadline(r);return n&&i.isPeerAssignmentReviewComplete?a.a.createElement("div",{className:"rc-GiveFeedbackNoList c-peer-card"},a.a.createElement("div",{className:"body-2-text"},p()("No Submissions Available")),a.a.createElement("div",null,a.a.createElement(d.b,{message:p()("\n                There are no submissions available for you to review right now. We'll send you an email when\n                classmates' submissions are available to review. Classmates' submissions will be available to review by\n                {reviewsAvailableTime}.\n              "),reviewsAvailableTime:a.a.createElement("span",{className:"body-2-text"},n)}))):a.a.createElement("div",{className:"rc-GiveFeedbackNoList c-peer-card"},a.a.createElement("div",{className:"body-2-text"},p()("No Submissions Available")),a.a.createElement("div",null,p()("\n              There are no submissions available for you to review right now. Come back later if you want to review\n              more classmates' submissions!\n            ")))},t.render=function render(){var e=this.props,t=e.isSubmissionAvailableForReview,i=e.computedItem;return Object(b.q)(i)?this.renderMentorGradedMessage():t?this.renderWithAvailableSubmissions():this.renderWithoutAvailableSubmissions()},GiveFeedbackNoList}(a.a.Component);e.a=f},"7eZ8":function(module,e,t){"use strict";t.d(e,"a",function(){return isReviewOthersTextABEnabled});var i=t("KMW/");function isReviewOthersTextABEnabled(e){return i.a.get("PeerReview","enableReviewOthersTextAB",{course_id:e})}},Ef0b:function(module,e,t){"use strict";t.d(e,"b",function(){return I}),t.d(e,"a",function(){return E}),t.d(e,"c",function(){return y});var i=t("S+eF"),r=t.n(i),n=t("F/us"),a=t.n(n),s=t("bPpC"),o=t("uPmI"),c=t("Q3zy"),u=t("o/MR"),d=t("beWW"),m=t("JAmU"),l=t("Hk9X"),b=t("fAMf"),v=t("E4RX"),p=t("StP4"),f=t("i6HE"),h=t("uhR6"),S=function loadAssignment(e,t){var i=t.userId,r=t.courseId,n=t.itemId;return e.dispatch(h.a.LOADING_PEER_ASSIGNMENT),Object(u.a)({userId:i,courseId:r,itemId:n}).then(function(t){return e.dispatch(h.a.LOADED_PEER_ASSIGNMENT,{assignment:Object(l.a)(t),loadedItemId:n}),t})},g=function loadPermissionsAndProgresses(e,t){var i=t.userId,r=t.courseId,n=t.itemId;return e.dispatch(h.a.LOADING_PEER_USER_PERMISSIONS),Object(o.a)(i,r,n).then(function(t){e.dispatch(h.a.LOADED_DISPLAYABLE_PHASE_SCHEDULE,{displayablePhaseSchedule:t.displayablePhaseSchedules});var i=a()(t.assignmentPermissions).chain().pick(function(e){return e.isAllowed}).keys().value();return e.dispatch(h.a.LOADED_PEER_USER_PERMISSIONS,{capabilities:i,capabilitiesWithReasons:t.assignmentPermissions,receivedReviewProgresses:t.receivedReviewProgresses,submissionProgresses:t.submissionProgresses}),t})},w=function loadSubmissionDraft(e,t){var i=t.userId,n=t.courseId,a=t.itemId,s=t.permissionsAndProgresses,o=t.submissionSchema,u=t.reviewSchema;return e.dispatch(h.a.PEER_SUBMISSION_DRAFT_LOADING),null==s.submissionProgresses.latestDraftSummary?r()(Object(l.g)(o,u,i)).then(function(t){return e.dispatch(h.a.LOADED_PEER_SUBMISSION_DRAFT,{naptimeSubmissionSchema:o,naptimeSubmission:Object(b.a)(o.submissionSchema,i),latestSubmissionAndRelated:t})}):Object(c.b)({userId:i,courseId:n,itemId:a}).then(function(t){var i=Object(l.d)(t);return e.dispatch(h.a.LOADED_PEER_SUBMISSION_DRAFT,{naptimeSubmission:t.submission,naptimeSubmissionSchema:o,latestSubmissionAndRelated:i})})},P=function loadLatestSubmission(e,t){var i=t.userId,n=t.courseId,a=t.itemId,s=t.permissionsAndProgresses,o=t.submissionSchema,c=t.reviewSchema,u=t.shouldLoadOwnPeerViewSubmission;return null==s.submissionProgresses.latestSubmissionSummary?w(e,{userId:i,courseId:n,itemId:a,permissionsAndProgresses:s,submissionSchema:o,reviewSchema:c}):u?Object(m.d)(e,{userId:i,courseId:n,itemId:a,submissionId:s.submissionProgresses.latestSubmissionSummary.computed.id}):r()()},I=function loadReviewQueue(e,t){var i=t.userId,r=t.itemId,n=t.courseId,a=t.limit,s=t.start;return e.dispatch(h.a.REVIEW_QUEUE_LOADING),Object(d.a)({userId:i,courseId:n,itemId:r,start:s,limit:a}).then(function(e){return Object(l.b)(e)}).then(function(t){e.dispatch(h.a.REVIEW_QUEUE_LOADED,{data:t,itemId:r})}).catch(function(t){if(403!==t.status)throw t;e.dispatch(h.a.REVIEW_QUEUE_ERROR,{errorType:"mustSubmitBeforeReviewing"})})},E=function loadInitialPeerData(e,t){var i=t.userId,n=t.courseId,a=t.itemId,o=t.forceRefresh,c=t.shouldLoadOwnPeerViewSubmission,u=e.getStore(s.a).getState(),d="loaded"===u.loadState,m=a!==u.loadedItemId;if(!o&&d&&!m)return r()({});return r.a.all([g(e,{userId:i,courseId:n,itemId:a}),S(e,{userId:i,courseId:n,itemId:a})]).spread(function(t,r){return P(e,{userId:i,courseId:n,itemId:a,permissionsAndProgresses:t,submissionSchema:r.linked["onDemandPeerSubmissionSchemas.v1"][0],reviewSchema:r.linked["onDemandPeerReviewSchemas.v1"][0],shouldLoadOwnPeerViewSubmission:c})})},y=function refreshSubmissionAndProgress(e,t){var i=t.userId,r=t.courseId,n=t.courseSlug,a=t.itemId;return E(e,{userId:i,courseId:r,itemId:a,forceRefresh:!0,shouldLoadOwnPeerViewSubmission:!0}).then(function(){return e.executeAction(v.a,{courseId:r,refreshProgress:!0}).then(function(){return Promise.all([e.executeAction(v.a,{courseId:r,refreshProgress:!0}),e.executeAction(f.b,{courseId:r}),e.executeAction(p.b,{courseSlug:n,refetch:!0})])})})}},FYz7:function(module,e,t){"use strict";var i=t("eLAd"),r=t.n(i),n=t("/VA5"),a=t.n(n),s=t("wd/R"),o=t.n(s),c=t("BVC1"),u=t("15pW"),d=t("Dob0"),m=a.a.AssociatedModel.extend({relations:[{type:a.a.One,key:"creator",relatedModel:d.a}],getReviewLink:function getReviewLink(){return c.a.join(this.collection.getItemLink(),"review",this.get("id"))},getTimestampString:function getTimestampString(){return this.timestampString=o()(this.get("createdAt")).fromNow()},getUserName:function getUserName(){return this.get("creator.fullName")},getUserPhoto:function getUserPhoto(){return this.get("creator.photoUrl")},getTruncatedTitle:function getTruncatedTitle(){return r()(this.get("title"),{length:u.d.gallery.maxTitleLength,separator:" ",omission:"…"})}});e.a=m},GQaP:function(module,e,t){"use strict";var i=t("q1tI"),r=t.n(i),n=t("EqTq"),a=t("m10x"),s=t("kvW3"),o=t("wd/R"),c=t.n(o),u=t("ca6j"),d=t("yhVA"),m=t.n(d),l=t("af/C"),b=t.n(l),v=Object(n.a)("NextUpSubmissionTile"),p=function NextUpSubmissionTile(e){var t=e.submissionSummary,i=e.itemResourcePath,n=t.title,o=t.creator,d=t.createdAt,l,b=i+"/review/"+t.id;return r.a.createElement("a",{href:b,className:v(void 0,void 0,"nostyle")},r.a.createElement("div",{className:v("needs-review-banner")},m()("Needs review")),r.a.createElement("div",{className:v("header",void 0,"headline-4-text")},n),r.a.createElement("div",{className:v("footer")},r.a.createElement("div",{className:v("profile-image-container")},r.a.createElement(u.a,{profile:o,size:40})),r.a.createElement("div",{className:v("name-and-time-container")},r.a.createElement(a.n,{rootClassName:v("full-name")},o.fullName),r.a.createElement("div",{className:v("submission-time")},r.a.createElement(s.b,{message:m()("Submitted {submissionTime}"),submissionTime:c()(d).fromNow()})))))};e.a=p},HCVm:function(module,e,t){"use strict";var i=t("q1tI"),r=t.n(i),n=t("EqTq"),a=t("wd/R"),s=t.n(a),o=t("ca6j"),c=t("rg2u"),u=t.n(c),d=Object(n.a)("SubmissionTile"),m=function SubmissionTile(e){var t=e.submissionSummary,i=e.itemResourcePath,n=t.title,a=t.creator,c=t.createdAt,u,m=i+"/review/"+t.id;return r.a.createElement("div",{className:d()},r.a.createElement("a",{href:m,className:d("link-container",void 0,"nostyle")},r.a.createElement("div",{className:d("header")},r.a.createElement("div",{className:d("submission-time")},s()(c).fromNow()),r.a.createElement("div",{className:d("title",void 0,"headline-1-text")},n)),r.a.createElement("div",{className:d("footer")},r.a.createElement("div",{className:d("profile-image-container")},r.a.createElement(o.a,{profile:a,size:30})),r.a.createElement("div",{className:d("name-and-time-container")},r.a.createElement("div",{className:d("full-name")},a.fullName)))))};e.a=m},IXno:function(module,exports,e){},JPic:function(module,e,t){"use strict";var i=t("F/us"),r=t.n(i),n=t("welz"),a=t.n(n),s=t("FYz7"),o=a.a.Collection.extend({model:s.a,initialize:function initialize(e,t){this.metadata=t.metadata},getItemLink:function getItemLink(){return this.metadata.getBaseLink()},parse:function parse(e,t){var i;return r()(e.submissionSummaries).map(function(t){var i=r()(e.userProfiles).findWhere({userId:t.creatorId});return r()(t).extend({creator:i})})}});e.a=o},PoXZ:function(module,e,t){"use strict";t.d(e,"a",function(){return a});var i=t("AeFk"),r=t("2Hxl"),n=Object(r.a)("select-field",["formValidationLabel","formSupportText","root"]),a=n.classes,s=n.classNames,o=function(e){return Object(i.c)(s.root,"{margin-top:",e.spacing(16),";}",s.formValidationLabel,"{margin-top:",e.spacing(16),";&+",s.root,"{margin-top:",e.spacing(12),";}}",s.formSupportText,"{margin:",e.spacing(8,0,0),";}")};e.b=o},Q3zy:function(module,e,t){"use strict";t.d(e,"b",function(){return l}),t.d(e,"c",function(){return b}),t.d(e,"a",function(){return v});var i=t("lSNA"),r=t.n(i),n=t("S+eF"),a=t.n(n),s=t("fw5G"),o=t.n(s),c=t("DnuM");function ownKeys(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,r)}return i}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(i),!0).forEach(function(t){r()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var u=Object(c.a)("/api/onDemandPeerSubmissionDrafts.v1",{type:"rest"}),d=["submission","context","creatorId","attachedAssignmentId","createdAt","upgradeSubmissionToLatestAssignment","blocksSubmit","validationErrors","onDemandPeerReviewSchemas.v1(reviewSchema)","onDemandPeerSubmissionSchemas.v1(submissionSchema)"],m=["reviewSchemas","submissionSchemas"];function responseHandler(e){if(e.elements&&e.elements.length){var t=e.linked["onDemandPeerSubmissionSchemas.v1"]&&e.linked["onDemandPeerSubmissionSchemas.v1"].length&&e.linked["onDemandPeerSubmissionSchemas.v1"][0],i=e.linked["onDemandPeerReviewSchemas.v1"]&&e.linked["onDemandPeerReviewSchemas.v1"].length&&e.linked["onDemandPeerReviewSchemas.v1"][0];if(null==t)throw new Error("No linked submission schema in onDemandPeerSubmissionDraftsApi");return _objectSpread(_objectSpread({},e.elements[0]),{},{reviewSchema:i,submissionSchema:t})}throw new Error("No elements received in onDemandPeerSubmissionDraftsApi")}var l=function getSubmissionDraft(e){var t=e.userId,i=e.courseId,r=e.itemId,n="".concat(t,"~").concat(i,"~").concat(r),s=new o.a(n).addQueryParam("fields",d.join(",")).addQueryParam("includes",m.join(","));return a()(u.get(s.toString())).then(responseHandler)},b=function updateSubmissionDraft(e){var t=e.userId,i=e.courseId,r=e.itemId,n=e.submissionDraftUpdate,s="".concat(t,"~").concat(i,"~").concat(r),c=new o.a(s).addQueryParam("fields",d.join(",")).addQueryParam("includes",m.join(","));return a()(u.put(c.toString(),{data:n})).then(responseHandler)},v=function forceUpgradedSubmissionDraft(e){var t=e.userId,i=e.courseId,r=e.itemId,n=e.forceUpgradeToAssignmentId,s="".concat(t,"~").concat(i,"~").concat(r),c=(new o.a).addQueryParam("action","forceUpgradedDraft").addQueryParam("id",s).addQueryParam("forceUpgradeToAssignmentId",n).addQueryParam("fields",d.join(",")).addQueryParam("includes",m.join(","));return a()(u.post(c.toString())).then(function(e){return e[0]})}},QvzW:function(module,e,t){"use strict";t.r(e);var i=t("VbXa"),r=t.n(i),n=t("okdh"),a=t("17x9"),s=t.n(a),o=t("q1tI"),c=t.n(o),u=t("8cuT"),d=t("F/us"),m=t.n(d),l=t("L1vm"),b=t("pR6o"),v=t("EdUP"),p=t("BVC1"),f=t("46g2"),h=t("1G4o"),S=t("VMeS"),g=t("JPic"),w=t("h3AF"),P=t("Ef0b"),I=t("sQ/U"),E=t("yhVA"),y=t.n(E),O=t("04NU"),R=t.n(O),j=function(e){function PeerItemGiveFeedback(){return e.apply(this,arguments)||this}r()(PeerItemGiveFeedback,e);var t=PeerItemGiveFeedback.prototype;return t.renderGiveFeedbackView=function renderGiveFeedbackView(){var e=this.props,t=e.submissionSummariesCollection,i=e.computedItem,r=e.submissionSummaries;if(!t||!r)return null;return c.a.createElement(w.a,{computedItem:i,submissionSummaries:r})},t.renderGiveFeedbackNoListView=function renderGiveFeedbackNoListView(){var e=this.props,t=e.computedItem,i=e.submissionSummariesCollection,r=e.itemProgress,n=e.displayablePhaseSchedule;if(!i)return null;var a=i.length>0,s=p.a.join(t.resourcePath,"review-next");if(r)return c.a.createElement(f.a,{computedItem:t,isSubmissionAvailableForReview:a,reviewNextLink:s,displayablePhaseSchedule:n,itemProgress:r});return null},t.renderSubmitWarning=function renderSubmitWarning(){return c.a.createElement(h.a,{computedItem:this.props.computedItem})},t.renderErrorState=function renderErrorState(e){if("mustSubmitBeforeReviewing"===e)return this.renderSubmitWarning();return c.a.createElement("div",{className:"rc-PeerItemGiveFeedback"},y()("An unknown error has occurred. Please refresh and try again."))},t.render=function render(){var e=this,t=this.props,i=t.assignment,r=t.capabilities,a=t.error;return c.a.createElement(n.a,{locale:y.a.getLocale()},function(){if(null!=a)return e.renderErrorState(a);var t=i&&i.definition&&i.definition.closureType;return m()(r).contains("reviewPeers")&&m()(r).contains("listSubmissions")?e.renderGiveFeedbackView():m()(r).contains("reviewPeers")&&!m()(r).contains("listSubmissions")?e.renderGiveFeedbackNoListView():null==t?e.renderSubmitWarning():null}())},PeerItemGiveFeedback}(c.a.Component);j.contextTypes={executeAction:s.a.func.isRequired};var A=m.a.compose(l.a.createTrackedContainer(function(){return{namespace:{page:"peer_review_review_peers"}}}),Object(u.a)(["PeerAssignmentStore","PeerPermissionsAndProgressesStore","PeerReviewQueueStore","DisplayablePhaseScheduleStore","ProgressStore"],function(e,t){var i=e.PeerAssignmentStore,r=e.PeerPermissionsAndProgressesStore,n=e.PeerReviewQueueStore,a=e.DisplayablePhaseScheduleStore,s=e.ProgressStore,o,c,u=n.getState(),d=u.loaded,l=u.loadState,b=u.submissions,v=u.errorType,p=u.itemId;if(d)if("loaded"===l&&t.computedItem.id===p){var f=b;o=new g.a(f,{parse:!0,metadata:t.itemMetadata})}else"loadError"===l&&(c=v);var h=r.getState(),S=h.capabilities,w=h.isSubmitted;return{assignment:i.getState().assignment,capabilities:S,isSubmitted:w,submissionSummariesCollection:o,submissionSummaries:null==b?void 0:b.submissionSummaries,error:c,displayablePhaseSchedule:a.getState().displayablePhaseSchedule,itemProgress:s.courseProgress.getItemProgress(t.computedItem.id),hasLoadedPermissions:"loaded"===r.getState().loadState,canReviewPeers:m()(S).contains("reviewPeers"),canListSubmissions:m()(S).contains("listSubmissions")}}),Object(v.a)(function(e){return e.hasLoadedPermissions},c.a.createElement(S.a,{className:"rc-PeerItemGiveFeedback"})),Object(b.a)(function(e,t){var i=t.canListSubmissions,r=t.canReviewPeers,n=t.computedItem,a=t.courseId;if(r){var s=i?20:1,o=0;e.executeAction(P.b,{userId:I.a.get().id,itemId:n.id,courseId:a,start:0,limit:s})}}))(j);e.default=A},UTav:function(module,e,t){"use strict";t.d(e,"a",function(){return m});var i=t("S+eF"),r=t.n(i),n=t("fw5G"),a=t.n(n),s=t("DnuM"),o=Object(s.a)("/api/onDemandPeerAuthoredReviewSummaries.v1",{type:"rest"}),c=["submissionId","isMentorReview","creatorId","createdAt"],u=["userId","externalUserId","fullName","photoUrl","courseRole","isSuperuser"],d=["summary","computed"],m=function getReviewedSubmissions(e){var t=e.userId,i=e.courseId,n=e.itemId,s=(new a.a).addQueryParam("userId",t.toString()).addQueryParam("courseId",i).addQueryParam("itemId",n).addQueryParam("q","byItem").addQueryParam("includes",["submissionSummaries","onDemandPeerSubmissionSummaries.v2(profiles)"].join(",")).addQueryParam("fields",[c.join(","),"onDemandPeerSubmissionSummaries.v2(".concat(d.join(","),")"),"onDemandSocialProfiles.v1(".concat(u.join(","),")")].join(","));return r()(o.get(s.toString()))}},YZCM:function(module,exports,e){},"af/C":function(module,exports,e){var t=e("YZCM"),i;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},n=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},fAMf:function(module,e,t){"use strict";var i=t("3WF5"),r=t.n(i),n=t("O7iK"),a=t.n(n),s=t("WQ4j"),o=function initializeSubmissionFromSchema(e,t,i){var n;return{title:"",parts:a()(r()(e.parts,function(e){var t=e.id,r=e.details;return[t,Object(s.a)(r.typeName,i)]})),invalidParts:{},isDraft:!0,submittedBy:t,submittedAt:Date.now(),id:""}};e.a=o},h3AF:function(module,e,t){"use strict";var i=t("VbXa"),r=t.n(i),n=t("lSNA"),a=t.n(n),s=t("q1tI"),o=t.n(s),c=t("AeFk"),u=t("rzCt"),d=t("fguj"),m=t("oEqI"),l=t("GQaP"),b=t("beWW"),v=t("UTav"),p=t("Hk9X"),f=t("HCVm"),h=t("sQ/U"),S=t("yhVA"),g=t.n(S);function ownKeys(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,r)}return i}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(i),!0).forEach(function(t){a()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var w={LOADING:"LOADING",LOAD_ERROR:"LOAD_ERROR",READY:"READY"},P=function getNetworkStatusString(e){var t;return{LOADING:g()("Loading..."),LOAD_ERROR:g()("Load error!")}[e]},I={REVIEWED:"REVIEWED",NOT_REVIEWED:"NOT_REVIEWED"},E=function getFilterOptions(){return[{label:g()("Projects I have reviewed"),value:I.REVIEWED},{label:g()("Projects I have not reviewed"),value:I.NOT_REVIEWED}]},y=function getSubmissionSummaryWithProfile(e,t){var i=t.reduce(function(e,t){return _objectSpread(_objectSpread({},e),{},a()({},t.userId,t))},{});return e.map(function(e){return _objectSpread(_objectSpread({},e),{},{creator:i[e.creatorId]})})},O={filter:Object(c.c)({display:"flex",alignItems:"center",margin:"12px 0"}),filterSelect:function filterSelect(e){return Object(c.c)({flexDirection:"row",alignItems:"center","& label":{color:e.palette.gray[700],marginBottom:e.spacing(0),span:{display:"none !important"}},"& > div":{marginTop:"".concat(e.spacing(0)," !important"),marginLeft:e.spacing(8)}})},submisssionContainer:Object(c.c)({display:"flex",flexWrap:"wrap"})},R=function(e){function ListFeedbackView(){for(var t,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).state={filter:I.NOT_REVIEWED,reviewedSubmissionSummaries:[],notReviewedSubmissionSummaries:[],networkState:w.READY},t.onFilterChange=function(e){t.setState({filter:e.target.value})},t.onReviewedSubmissionsFetchSuccess=function(e){var i=Object(p.c)(e);t.setState({reviewedSubmissionSummaries:y(i.submissionSummaries,i.userProfiles),networkState:w.READY})},t.onNotReviewedSubmissionsFetchSuccess=function(e){var i=Object(p.b)(e);t.setState({notReviewedSubmissionSummaries:y(i.submissionSummaries,i.userProfiles),networkState:w.READY})},t.onFetchError=function(){t.setState({networkState:w.LOAD_ERROR})},t.getSubmissionSummariesForDisplay=function(){var e=t.getNextUpSubmissionThatNeedReviews(),i=t.state,r=i.filter,n=i.reviewedSubmissionSummaries,a=i.notReviewedSubmissionSummaries;if(r===I.NOT_REVIEWED)return a.filter(function(t){return t.id!==(null==e?void 0:e.id)});return n},t.getNextUpSubmissionThatNeedReviews=function(){var e;return t.props.submissionSummaries.filter(function(e){return!e.reviewTargetReached})[0]},t.fetchReviewedSubmissions=function(){var e=t.props.computedItem;return t.setState({networkState:w.LOADING,reviewedSubmissionSummaries:[]}),Object(v.a)({userId:h.a.get().id,courseId:e.courseId,itemId:e.id}).then(t.onReviewedSubmissionsFetchSuccess).catch(t.onFetchError)},t.fetchNotReviewedSubmissions=function(){var e=t.props.computedItem;return t.setState({networkState:w.LOADING,notReviewedSubmissionSummaries:[]}),Object(b.a)({userId:h.a.get().id,courseId:e.courseId,itemId:e.id}).then(t.onNotReviewedSubmissionsFetchSuccess).catch(t.onFetchError)},t}r()(ListFeedbackView,e);var t=ListFeedbackView.prototype;return t.componentDidMount=function componentDidMount(){this.fetchNotReviewedSubmissions()},t.componentDidUpdate=function componentDidUpdate(_,e){var t=this.state.filter;e.filter!==t&&(t===I.NOT_REVIEWED?this.fetchNotReviewedSubmissions():this.fetchReviewedSubmissions())},t.render=function render(){var e=this.props.computedItem,t=this.state,i=t.filter,r=t.networkState,n=this.getNextUpSubmissionThatNeedReviews(),a=this.getSubmissionSummariesForDisplay();return Object(c.d)("div",null,0===a.length&&Object(c.d)("div",null,g()("There are no submissions left for you to review. Please check again later!")),!n&&0!==a.length&&Object(c.d)("div",null,g()("You have reviewed all ungraded submissions. You may review graded submissions, but the authors will not receive your reviews, and your reviews will not count towards their grade. If possible, please check later for new submissions to review.")),n&&Object(c.d)(l.a,{itemResourcePath:e.resourcePath,submissionSummary:n}),Object(c.d)("div",{css:O.filter},Object(c.d)(u.a,{css:O.filterSelect,value:i,label:g()("Filter:"),optional:!0,onChange:this.onFilterChange},E().map(function(e){return Object(c.d)(d.a,{value:e.value},e.label)}))),Object(c.d)("div",{css:O.submisssionContainer},r!==w.READY&&Object(c.d)("p",null,P(r)),0===a.length&&r===w.READY&&Object(c.d)("div",null,g()("There are no submissions in this list.")),a.map(function(t){return Object(c.d)(f.a,{key:t.id,itemResourcePath:e.resourcePath,submissionSummary:t})})))},ListFeedbackView}(o.a.Component);e.a=Object(m.a)(R)},"o/MR":function(module,e,t){"use strict";t.d(e,"a",function(){return d});var i=t("S+eF"),r=t.n(i),n=t("fw5G"),a=t.n(n),s=t("DnuM"),o=Object(s.a)("/api/onDemandPeerAssignmentInstructions.v1",{type:"rest"}),c=["instructions"],u=["requiredAuthoredReviewCount","isMentorGraded","assignmentDetails"],d=function getAssignment(e){var t=e.userId,i=e.courseId,n=e.itemId,s=(new a.a).addQueryParam("q","latest").addQueryParam("userId",t.toString()).addQueryParam("courseId",i).addQueryParam("itemId",n).addQueryParam("includes",["gradingMetadata","reviewSchemas","submissionSchemas"].join(",")).addQueryParam("fields",[c,"onDemandPeerAssignmentGradingMetadata.v1(".concat(u.join(","),")"),"onDemandPeerReviewSchemas.v1(reviewSchema)","onDemandPeerSubmissionSchemas.v1(submissionSchema)"].join(","));return r()(o.get(s.toString()))}},qBcy:function(module,exports,e){},rg2u:function(module,exports,e){var t=e("IXno"),i;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},n=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},rzCt:function(module,e,t){"use strict";var i=t("763+"),r=t("BGKE"),n=t("q1tI"),a=t.n(n),s=t("/5n7"),o=t("pL4+"),c=t("aSnO"),u=t("rmOs"),d=t("6SGe"),m=t("64Kq"),l=t("tn4l"),b=t("+BTX"),v=t("fguj"),p=t("PoXZ"),f=a.a.forwardRef(function SelectField(e,t){var n=e.name,a=e.label,f=e.children,h=void 0===f?[]:f,S=e.placeholder,g=e.value,w=e.onChange,P=e.onClose,I=e.onOpen,E=e.invert,y=e.className,O=e.disabled,R=e.fullWidth,j=e.optional,A=e.validationStatus,N=e.validationLabel,D=e.supportText,k=e.defaultValue,L=e.inputProps,F=Object(s.b)(e,["name","label","children","placeholder","value","onChange","onClose","onOpen","invert","className","disabled","fullWidth","optional","validationStatus","validationLabel","supportText","defaultValue","inputProps"]),T=Object(i.a)(),x=Object(p.b)(T),G=Object(o.a)(e.id),W=G+"-value",V=G+"-label";return Object(r.c)(l.a,Object.assign({ref:t,className:y,css:x,disabled:O,fullWidth:R,id:G,invert:E,optional:j,supportText:D,validationStatus:A},{children:[Object(r.b)(m.a,Object.assign({includeRequiredIndicatorWithLabel:!0},{children:a}),void 0),D&&Object(r.b)(d.a,Object.assign({className:p.a.formSupportText},{children:D}),void 0),A&&N&&Object(r.b)(c.a,{className:p.a.formValidationLabel,label:N},void 0),Object(r.b)(b.a,Object.assign({displayEmpty:!0,SelectDisplayProps:{id:W,"aria-labelledby":V+" "+W},className:p.a.root,defaultValue:k,inputProps:L,label:a,name:n,value:g,onChange:w,onClose:P,onOpen:I},F,{children:Array.isArray(h)?[Object(r.b)(v.a,Object.assign({disabled:!0,hidden:!0,value:""},{children:Object(r.b)("span",Object.assign({className:u.b.placeholder},{children:S}),void 0)}),"placeholder")].concat(h):h}),void 0)]}),void 0)});e.a=f},uPmI:function(module,e,t){"use strict";t.d(e,"a",function(){return S});var i=t("S+eF"),r=t.n(i),n=t("F/us"),a=t.n(n),s=t("fw5G"),o=t.n(s),c=t("DnuM"),u=Object(c.a)("/api/onDemandPeerAssignmentPermissions.v1",{type:"rest"}),d="onDemandPeerSubmissionProgresses.v1",m="onDemandPeerReceivedReviewProgresses.v1",l="onDemandPeerDisplayablePhaseSchedules.v1",b=["latestSubmissionSummary","latestDraftSummary"],v=["evaluationIfReady","earliestCompletionTime","reviewCount","defaultReceivedReviewRequiredCount"],p=["currentPhase","phaseEnds","phaseStarts"],f=["deleteSubmission","listSubmissions","reviewPeers","viewReviewSchema","anonymousPeerReview","".concat(d,"(").concat(b.join(","),")"),"".concat(m,"(").concat(v.join(","),")"),"".concat(l,"(").concat(p.join(","),")")],h=["receivedReviewsProgress","submissionProgress","phaseSchedule"],S=function getPermissionsAndProgresses(e,t,i){var n=new o.a("".concat(e,"~").concat(t,"~").concat(i)).addQueryParam("fields",f.join(",")).addQueryParam("includes",h.join(","));return r()(u.get(n.toString())).then(function(e){return{assignmentPermissions:a()(e.elements).first(),submissionProgresses:a()(e.linked[d]).first(),receivedReviewProgresses:a()(e.linked[m]).first(),displayablePhaseSchedules:a()(e.linked[l]).first()}})}}}]);
//# sourceMappingURL=88.af3e455f1fe93b371cd0.js.map